/* ===== KNIHA – Naše PidiChaloupky (stálá výška, foliování, jemnější „book“ vzhled) ===== */

.section-divider{ width:100%; height:1px; background:var(--accent); opacity:.7; }

/* Stejné plátno jako video/Galerie */
.pidi-section{
  max-width: clamp(320px, 96vw, 1440px);
  margin: 0 auto;
  padding: 32px var(--edge) 48px;
  box-sizing: border-box;
  scroll-margin-top: var(--header-h);

  --g-gap: 16px;
  --g-radius: 12px;

  /* stálá výška knihy – NEMĚNIT (na přání) */
  --book-h: clamp(560px, 72vh, 920px);

  /* book styling */
  --spine-w: 32px;
  --paper: rgb(242,239,232);
  --paper-edge: rgba(140,110,68,.24);
  --paper-shadow: 0 10px 24px rgba(0,0,0,.06);
  --paper-inset: inset 0 0 0 1px var(--paper-edge),
                 inset 0 20px 24px rgba(255,255,255,.25),
                 inset 0 -14px 18px rgba(0,0,0,.03);

  --anim-ms: 280ms;
}

/* Kniha: dvě stejné poloviny + hřbet */
.book{
  position: relative;
  display: grid;
  grid-template-columns: 1fr var(--spine-w) 1fr;
  gap: 0 var(--g-gap);
  align-items: start;
}

/* Obálkový režim — fotostrana pryč, text přes celou šířku */
.book.is-cover .book__spine,
.book.is-cover .page--photos{ display:none; }
.book.is-cover .page--text{ grid-column: 1 / -1; }

/* Hřbet knihy – jemnější */
.book__spine{
  width: var(--spine-w);
  align-self: stretch;
  border-radius: 2px;
  background:
    linear-gradient(to right,
      rgba(0,0,0,0.05), rgba(0,0,0,0.09) 50%, rgba(0,0,0,0.05));
  box-shadow:
    inset 1px 0 0 rgba(255,255,255,.35),
    inset -1px 0 0 rgba(0,0,0,.06);
}

/* Stránka („papír“) – stálá výška, jemnější orámování a vnitřní „papírové“ světlo */
.page__paper{
  position: relative;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.65), rgba(255,255,255,0)) no-repeat,
    var(--paper);
  border: 1px solid var(--accent);
  border-radius: 14px;
  box-shadow: var(--paper-shadow), var(--paper-inset);
  padding: 24px;
  height: var(--book-h);
  transition: transform var(--anim-ms) ease, opacity var(--anim-ms) ease;
}
.page--text{ grid-column: 1; }
.page--photos{ grid-column: 3; }

/* Foliování (malý text dole) */
.page__folio{
  position: absolute;
  bottom: 10px;
  left: 16px;
  right: 16px;
  text-align: left;
  font-size: 12px;
  font-style: italic;
  color: rgba(140,110,68,.85);
  pointer-events: none;
}

/* Obálka – dvouřádkový titul + CTA níž */
.book.is-cover .page--text .page__paper{
  display: flex;
  align-items: center;
  justify-content: center;
}
.cover{
  text-align:center;
  color: var(--accent);
}
.cover__title{
  margin: 0;
}
.cover__title-line{
  display:block;
  font-family: 'Great Vibes', cursive;
  font-style: italic;
  line-height: 1.06;
}
.cover__title-line--big{
  font-size: clamp(36px, 5vw, 56px);
  margin: 4px 0 6px;
}
.cover__title-line--small{
  font-size: clamp(28px, 3.8vw, 40px);
  margin: 0 0 16px;
}
.cover__cta{
  appearance: none;
  border: 1px solid var(--accent);
  background: transparent;
  color: var(--accent);
  border-radius: 999px;
  padding: 8px 14px;
  font: inherit;
  cursor: pointer;
  margin-top: 18px;
  font-size: 14px;
}

/* Text – bez svislého scrollu; JS stránkuje, aby se vše vešlo */
.page--text .page__content{
  color: var(--accent);
  font-family: 'Raleway', sans-serif;
  font-size: 16px;
  line-height: 1.7;
  max-height: calc(100% - 28px); /* nech prostor pro foliování */
  overflow: hidden;
}
.page--text p{ margin: 0 0 14px; }

/* Fotostránka – plná výška, 2×2 mřížka, vždy 4 fotky */
.photos-grid{
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: var(--g-gap);
  height: calc(100% - 28px); /* foliování dole */
}
.photo{ margin:0; }
.photo img{
  display:block;
  width:100%;
  height:100%;
  object-fit: cover;
  border-radius: var(--g-radius);
  opacity: 0;
  transition: opacity .3s ease;
}
.photo img.is-ready{ opacity: 1; }

/* Navigace */
.book__nav{
  position:absolute;
  top:50%; transform:translateY(-50%);
  z-index:2;
  width:44px; height:44px;
  border-radius:50%;
  border:1px solid var(--accent);
  background: var(--paper);
  box-shadow: var(--paper-shadow);
  color: var(--accent);
  font-size: 22px; line-height: 1;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer;
}
.book__nav--prev{ left: -6px; }
.book__nav--next{ right: -6px; }
.book__nav:disabled{ opacity:.45; cursor:not-allowed; }

/* Stavový štítek */
.book__status{
  margin-top: 8px;
  color: var(--accent);
  font-size: 14px;
  opacity: .9;
}

/* Animace výměny obsahu */
.swap-out-left  { opacity:0; transform: translateX(-8px); }
.swap-out-right { opacity:0; transform: translateX( 8px); }
.swap-in        { opacity:0; transform: translateY(6px); }
.swap-in.active { opacity:1; transform:none; }

/* Mobil: stále stejná výška, po jedné stránce */
@media (max-width: 768px){
  .book{
    grid-template-columns: 1fr;
    gap: var(--g-gap);
  }
  .book__spine{ display:none; }
  .page--text, .page--photos{ grid-column: 1; }

  .book__nav--prev{ left: 6px; }
  .book__nav--next{ right: 6px; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .pidi-section{ --anim-ms: 0ms; }
  .photo img{ transition: none; }
}








